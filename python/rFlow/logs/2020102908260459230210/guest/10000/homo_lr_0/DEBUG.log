[INFO] [2020-10-29 08:26:08,960] [2811:139638674577216] - task_executor.py[line:121]: run 2020102908260459230210 homo_lr_0 2020102908260459230210_homo_lr_0 guest 10000 task
[INFO] [2020-10-29 08:26:08,960] [2811:139638674577216] - task_executor.py[line:122]: {'HomoLogisticParam': {'penalty': 'L2', 'tol': 1e-05, 'alpha': 0.01, 'optimizer': 'sgd', 'batch_size': 320, 'learning_rate': 0.15, 'init_param': {'init_method': 'zeros', 'init_const': 1, 'fit_intercept': True, 'random_seed': None}, 'max_iter': 3, 'early_stop': 'diff', 'encrypt_param': {'method': 'Paillier', 'key_length': 1024}, 'predict_param': {'threshold': 0.5}, 'cv_param': {'n_splits': 4, 'mode': 'hetero', 'role': 'guest', 'shuffle': True, 'random_seed': 33, 'need_cv': False}, 'decay': 1, 'decay_sqrt': True, 'multi_class': 'ovr', 'validation_freqs': None, 'stepwise_param': {'score_name': 'AIC', 'mode': 'hetero', 'role': 'guest', 'direction': 'both', 'max_step': 10, 'nvmin': 2, 'nvmax': None, 'need_stepwise': False}, 'early_stopping_rounds': None, 'metrics': ['auc', 'ks'], 'use_first_metric_only': False, 're_encrypt_batches': 2, 'aggregate_iters': 1}, 'initiator': {'role': 'guest', 'party_id': 10000}, 'job_parameters': {'work_mode': 0, 'model_id': 'arbiter-10000#guest-10000#host-10000#model', 'model_version': '202010290812019279649'}, 'role': {'guest': [10000], 'host': [10000], 'arbiter': [10000]}, 'config': '/fate/examples/federatedml-1.x-examples/homo_logistic_regression/test_homolr_evaluate_job_conf.json', 'dsl': 'examples/federatedml-1.x-examples/homo_logistic_regression/test_homolr_evaluate_job_dsl.json', 'function': 'submit_job', 'local': {'role': 'guest', 'party_id': 10000}, 'CodePath': 'federatedml/linear_model/logistic_regression/homo_logsitic_regression/homo_lr_guest.py/HomoLRGuest', 'module': 'HomoLR'}
[INFO] [2020-10-29 08:26:08,961] [2811:139638674577216] - task_executor.py[line:123]: {'model': ['pipeline.homo_lr_0.homolr'], 'data': {'eval_data': ['dataio_0.train']}}
[DEBUG] [2020-10-29 08:26:08,973] [2811:139638674577216] - profile_util.py[line:34]: tracking_manager.py:232 call table, takes 0.0013720989227294922s
[DEBUG] [2020-10-29 08:26:08,974] [2811:139638674577216] - profile_util.py[line:34]: tracking_manager.py:236 call table, takes 0.0008683204650878906s
[DEBUG] [2020-10-29 08:26:08,976] [2811:139638674577216] - profile_util.py[line:34]: session.py:178 call collect, takes 0.0012309551239013672s
[INFO] [2020-10-29 08:26:08,977] [2811:139638674577216] - task_executor.py[line:202]: start save as task 2020102908260459230210_homo_lr_0 input data table output_data_2020102908260459230210_dataio_0 63db4122-19c0-11eb-b063-0242ac120002
[DEBUG] [2020-10-29 08:26:08,977] [2811:139638674577216] - profile_util.py[line:34]: session.py:178 call collect, takes 0.0005376338958740234s
[DEBUG] [2020-10-29 08:26:09,013] [2811:139638674577216] - profile_util.py[line:34]: task_executor.py:212 call save_as, takes 0.03485822677612305s
[INFO] [2020-10-29 08:26:09,016] [2811:139638674577216] - task_executor.py[line:218]: save as task 2020102908260459230210_homo_lr_0 input data table to 2020102908260459230210_homo_lr_0_guest_10000 63db4122-19c0-11eb-b063-0242ac120002 done
[DEBUG] [2020-10-29 08:26:09,194] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=HasConvergedTransVar.has_converged, src=('arbiter',), dst=('guest', 'host')
[DEBUG] [2020-10-29 08:26:09,195] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=LossScatterTransVar.loss, src=('guest', 'host'), dst=('arbiter',)
[DEBUG] [2020-10-29 08:26:09,195] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=ModelScatterTransVar.client_model, src=('guest', 'host'), dst=('arbiter',)
[DEBUG] [2020-10-29 08:26:09,196] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=ModelBroadcasterTransVar.server_model, src=('arbiter',), dst=('guest', 'host')
[DEBUG] [2020-10-29 08:26:09,196] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=UUIDTransVar.uuid, src=('arbiter',), dst=('guest', 'host')
[DEBUG] [2020-10-29 08:26:10,010] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=DHTransVar.p_power_r, src=('guest', 'host'), dst=('arbiter',)
[DEBUG] [2020-10-29 08:26:10,010] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=DHTransVar.p_power_r_bc, src=('arbiter',), dst=('guest', 'host')
[DEBUG] [2020-10-29 08:26:10,010] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=DHTransVar.pubkey, src=('arbiter',), dst=('guest', 'host')
[DEBUG] [2020-10-29 08:26:10,261] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=RandomPaddingCipherTransVar.UUIDTransVar.uuid, src=('arbiter',), dst=('guest', 'host')
[DEBUG] [2020-10-29 08:26:10,261] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=RandomPaddingCipherTransVar.DHTransVar.p_power_r, src=('guest', 'host'), dst=('arbiter',)
[DEBUG] [2020-10-29 08:26:10,261] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=RandomPaddingCipherTransVar.DHTransVar.p_power_r_bc, src=('arbiter',), dst=('guest', 'host')
[DEBUG] [2020-10-29 08:26:10,261] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=RandomPaddingCipherTransVar.DHTransVar.pubkey, src=('arbiter',), dst=('guest', 'host')
[DEBUG] [2020-10-29 08:26:10,526] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=LegacyAggregatorTransVar.LossScatterTransVar.loss, src=('guest', 'host'), dst=('arbiter',)
[DEBUG] [2020-10-29 08:26:10,526] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=LegacyAggregatorTransVar.HasConvergedTransVar.has_converged, src=('arbiter',), dst=('guest', 'host')
[DEBUG] [2020-10-29 08:26:10,526] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=LegacyAggregatorTransVar.ModelScatterTransVar.client_model, src=('guest', 'host'), dst=('arbiter',)
[DEBUG] [2020-10-29 08:26:10,526] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=LegacyAggregatorTransVar.ModelBroadcasterTransVar.server_model, src=('arbiter',), dst=('guest', 'host')
[DEBUG] [2020-10-29 08:26:10,526] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=LegacyAggregatorTransVar.RandomPaddingCipherTransVar.UUIDTransVar.uuid, src=('arbiter',), dst=('guest', 'host')
[DEBUG] [2020-10-29 08:26:10,526] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=LegacyAggregatorTransVar.RandomPaddingCipherTransVar.DHTransVar.p_power_r, src=('guest', 'host'), dst=('arbiter',)
[DEBUG] [2020-10-29 08:26:10,527] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=LegacyAggregatorTransVar.RandomPaddingCipherTransVar.DHTransVar.p_power_r_bc, src=('arbiter',), dst=('guest', 'host')
[DEBUG] [2020-10-29 08:26:10,527] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=LegacyAggregatorTransVar.RandomPaddingCipherTransVar.DHTransVar.pubkey, src=('arbiter',), dst=('guest', 'host')
[DEBUG] [2020-10-29 08:26:24,539] [2811:139638674577216] - encrypt_param.py[line:71]: Finish encrypt parameter check!
[DEBUG] [2020-10-29 08:26:24,539] [2811:139638674577216] - predict_param.py[line:46]: Finish predict parameter check!
[DEBUG] [2020-10-29 08:26:24,539] [2811:139638674577216] - component_properties.py[line:67]: {'HomoLogisticParam': {'penalty': 'L2', 'tol': 1e-05, 'alpha': 0.01, 'optimizer': 'sgd', 'batch_size': 320, 'learning_rate': 0.15, 'init_param': {'init_method': 'zeros', 'init_const': 1, 'fit_intercept': True, 'random_seed': None}, 'max_iter': 3, 'early_stop': 'diff', 'encrypt_param': {'method': 'Paillier', 'key_length': 1024}, 'predict_param': {'threshold': 0.5}, 'cv_param': {'n_splits': 4, 'mode': 'hetero', 'role': 'guest', 'shuffle': True, 'random_seed': 33, 'need_cv': False}, 'decay': 1, 'decay_sqrt': True, 'multi_class': 'ovr', 'validation_freqs': None, 'stepwise_param': {'score_name': 'AIC', 'mode': 'hetero', 'role': 'guest', 'direction': 'both', 'max_step': 10, 'nvmin': 2, 'nvmax': None, 'need_stepwise': False}, 'early_stopping_rounds': None, 'metrics': ['auc', 'ks'], 'use_first_metric_only': False, 're_encrypt_batches': 2, 'aggregate_iters': 1}, 'initiator': {'role': 'guest', 'party_id': 10000}, 'job_parameters': {'work_mode': 0, 'model_id': 'arbiter-10000#guest-10000#host-10000#model', 'model_version': '202010290812019279649'}, 'role': {'guest': [10000], 'host': [10000], 'arbiter': [10000]}, 'config': '/fate/examples/federatedml-1.x-examples/homo_logistic_regression/test_homolr_evaluate_job_conf.json', 'dsl': 'examples/federatedml-1.x-examples/homo_logistic_regression/test_homolr_evaluate_job_dsl.json', 'function': 'submit_job', 'local': {'role': 'guest', 'party_id': 10000}, 'CodePath': 'federatedml/linear_model/logistic_regression/homo_logsitic_regression/homo_lr_guest.py/HomoLRGuest', 'module': 'HomoLR'}
[DEBUG] [2020-10-29 08:26:24,539] [2811:139638674577216] - component_properties.py[line:74]: need_run: True, need_cv: False
[DEBUG] [2020-10-29 08:26:24,539] [2811:139638674577216] - optimizer.py[line:273]: in optimizer_factory, optimizer_type: sgd, learning_rate: 0.15, alpha: 0.01, penalty: L2,decay: 1, decay_sqrt: True
[INFO] [2020-10-29 08:26:24,539] [2811:139638674577216] - one_vs_rest.py[line:287]: Create one_vs_rest object, role: guest, mode: homo
[DEBUG] [2020-10-29 08:26:24,539] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=OneVsRestTransferVariable.aggregate_classes, src=('guest',), dst=('host', 'arbiter')
[DEBUG] [2020-10-29 08:26:24,540] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=OneVsRestTransferVariable.host_classes, src=('host',), dst=('guest',)
[DEBUG] [2020-10-29 08:26:24,540] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=HomoLRTransferVariable.aggregated_model, src=('arbiter',), dst=('guest', 'host')
[DEBUG] [2020-10-29 08:26:24,541] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=HomoLRTransferVariable.dh_ciphertext_bc, src=('arbiter',), dst=('guest', 'host')
[DEBUG] [2020-10-29 08:26:24,541] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=HomoLRTransferVariable.dh_ciphertext_guest, src=('guest',), dst=('arbiter',)
[DEBUG] [2020-10-29 08:26:24,541] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=HomoLRTransferVariable.dh_ciphertext_host, src=('host',), dst=('arbiter',)
[DEBUG] [2020-10-29 08:26:24,541] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=HomoLRTransferVariable.dh_pubkey, src=('arbiter',), dst=('guest', 'host')
[DEBUG] [2020-10-29 08:26:24,541] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=HomoLRTransferVariable.guest_loss, src=('guest',), dst=('arbiter',)
[DEBUG] [2020-10-29 08:26:24,541] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=HomoLRTransferVariable.guest_model, src=('guest',), dst=('arbiter',)
[DEBUG] [2020-10-29 08:26:24,541] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=HomoLRTransferVariable.guest_party_weight, src=('guest',), dst=('arbiter',)
[DEBUG] [2020-10-29 08:26:24,542] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=HomoLRTransferVariable.guest_uuid, src=('guest',), dst=('arbiter',)
[DEBUG] [2020-10-29 08:26:24,542] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=HomoLRTransferVariable.host_loss, src=('host',), dst=('arbiter',)
[DEBUG] [2020-10-29 08:26:24,542] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=HomoLRTransferVariable.host_model, src=('host',), dst=('arbiter',)
[DEBUG] [2020-10-29 08:26:24,542] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=HomoLRTransferVariable.host_party_weight, src=('host',), dst=('arbiter',)
[DEBUG] [2020-10-29 08:26:24,542] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=HomoLRTransferVariable.host_uuid, src=('host',), dst=('arbiter',)
[DEBUG] [2020-10-29 08:26:24,542] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=HomoLRTransferVariable.is_converge, src=('arbiter',), dst=('guest', 'host')
[DEBUG] [2020-10-29 08:26:24,542] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=HomoLRTransferVariable.paillier_pubkey, src=('arbiter',), dst=('host',)
[DEBUG] [2020-10-29 08:26:24,542] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=HomoLRTransferVariable.predict_result, src=('arbiter',), dst=('host',)
[DEBUG] [2020-10-29 08:26:24,542] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=HomoLRTransferVariable.predict_wx, src=('host',), dst=('arbiter',)
[DEBUG] [2020-10-29 08:26:24,543] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=HomoLRTransferVariable.re_encrypt_times, src=('host',), dst=('arbiter',)
[DEBUG] [2020-10-29 08:26:24,543] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=HomoLRTransferVariable.re_encrypted_model, src=('arbiter',), dst=('host',)
[DEBUG] [2020-10-29 08:26:24,543] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=HomoLRTransferVariable.to_encrypt_model, src=('host',), dst=('arbiter',)
[DEBUG] [2020-10-29 08:26:24,543] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=HomoLRTransferVariable.use_encrypt, src=('host',), dst=('arbiter',)
[DEBUG] [2020-10-29 08:26:24,543] [2811:139638674577216] - base_transfer_variable.py[line:63]: create variable with name=HomoLRTransferVariable.uuid_conflict_flag, src=('arbiter',), dst=('guest', 'host')
[INFO] [2020-10-29 08:26:24,543] [2811:139638674577216] - random_padding_cipher.py[line:56]: synchronizing uuid
[DEBUG] [2020-10-29 08:26:24,544] [2811:139638674577216] - federation_standalone.py[line:105]: [GET] Party(role=guest, party_id=10000) getting LegacyAggregatorTransVar.RandomPaddingCipherTransVar.UUIDTransVar.uuid.default from [Party(role=arbiter, party_id=10000)]
[DEBUG] [2020-10-29 08:26:24,544] [2811:139638674577216] - federation_standalone.py[line:40]: [GET] Got 2020102908260459230210_homo_lr_0-LegacyAggregatorTransVar.RandomPaddingCipherTransVar.UUIDTransVar.uuid-default-arbiter-10000-guest-10000 type Object
[DEBUG] [2020-10-29 08:26:24,545] [2811:139638674577216] - federation_standalone.py[line:117]: [GET] Party(role=guest, party_id=10000) getting 2020102908260459230210_homo_lr_0-LegacyAggregatorTransVar.RandomPaddingCipherTransVar.UUIDTransVar.uuid-default-arbiter-10000-guest-10000 from [Party(role=arbiter, party_id=10000)]
[INFO] [2020-10-29 08:26:24,545] [2811:139638674577216] - random_padding_cipher.py[line:58]: local uuid=cfcd208495d565ef66e7dff9f98764da
[INFO] [2020-10-29 08:26:24,545] [2811:139638674577216] - random_padding_cipher.py[line:60]: Diffie-Hellman keys exchanging
[DEBUG] [2020-10-29 08:26:24,545] [2811:139638674577216] - federation_standalone.py[line:105]: [GET] Party(role=guest, party_id=10000) getting LegacyAggregatorTransVar.RandomPaddingCipherTransVar.DHTransVar.pubkey.default from [Party(role=arbiter, party_id=10000)]
[DEBUG] [2020-10-29 08:26:24,546] [2811:139638674577216] - federation_standalone.py[line:40]: [GET] Got 2020102908260459230210_homo_lr_0-LegacyAggregatorTransVar.RandomPaddingCipherTransVar.DHTransVar.pubkey-default-arbiter-10000-guest-10000 type Object
[DEBUG] [2020-10-29 08:26:24,546] [2811:139638674577216] - federation_standalone.py[line:117]: [GET] Party(role=guest, party_id=10000) getting 2020102908260459230210_homo_lr_0-LegacyAggregatorTransVar.RandomPaddingCipherTransVar.DHTransVar.pubkey-default-arbiter-10000-guest-10000 from [Party(role=arbiter, party_id=10000)]
[DEBUG] [2020-10-29 08:26:24,550] [2811:139638674577216] - federation_standalone.py[line:90]: [REMOTE] Sent 2020102908260459230210_homo_lr_0-LegacyAggregatorTransVar.RandomPaddingCipherTransVar.DHTransVar.p_power_r-default-guest-10000-arbiter-10000
[DEBUG] [2020-10-29 08:26:24,550] [2811:139638674577216] - federation_standalone.py[line:105]: [GET] Party(role=guest, party_id=10000) getting LegacyAggregatorTransVar.RandomPaddingCipherTransVar.DHTransVar.p_power_r_bc.default from [Party(role=arbiter, party_id=10000)]
[DEBUG] [2020-10-29 08:26:24,754] [2811:139638674577216] - federation_standalone.py[line:40]: [GET] Got 2020102908260459230210_homo_lr_0-LegacyAggregatorTransVar.RandomPaddingCipherTransVar.DHTransVar.p_power_r_bc-default-arbiter-10000-guest-10000 type Object
[DEBUG] [2020-10-29 08:26:24,754] [2811:139638674577216] - federation_standalone.py[line:117]: [GET] Party(role=guest, party_id=10000) getting 2020102908260459230210_homo_lr_0-LegacyAggregatorTransVar.RandomPaddingCipherTransVar.DHTransVar.p_power_r_bc-default-arbiter-10000-guest-10000 from [Party(role=arbiter, party_id=10000)]
[INFO] [2020-10-29 08:26:24,755] [2811:139638674577216] - random_padding_cipher.py[line:62]: Diffie-Hellman exchanged keys {'c4ca4238a0b923820dcc509a6f75849b': mpz(77655039093400513164206379020365150409144985741022247774818088233416075657482966533625322605735982914895657756650501310083531006234431481255218374803697812790331400085259528658444392799418290193686726362864993505607310302082396229867754681574824986485714448151720263944760875992884343777900305269055474654494)}
[DEBUG] [2020-10-29 08:26:24,757] [2811:139638674577216] - optimizer.py[line:273]: in optimizer_factory, optimizer_type: sgd, learning_rate: 0.15, alpha: 0.01, penalty: L2,decay: 1, decay_sqrt: True
[DEBUG] [2020-10-29 08:26:24,757] [2811:139638674577216] - component_properties.py[line:118]: has_train_data: False, has_eval_data: True, has_normal_data: False
[DEBUG] [2020-10-29 08:26:24,762] [2811:139638674577216] - profile_util.py[line:34]: component_properties.py:137 call count, takes 0.00437474250793457s
[DEBUG] [2020-10-29 08:26:24,762] [2811:139638674577216] - base_logistic_regression.py[line:97]: Start Loading model
[ERROR] [2020-10-29 08:26:24,762] [2811:139638674577216] - task_executor.py[line:144]: 'NoneType' object has no attribute 'fit_intercept'
Traceback (most recent call last):
  File "/fate/fate_flow/driver/task_executor.py", line 135, in run_task
    run_object.run(component_parameters, task_run_args)
  File "/fate/federatedml/model_base.py", line 91, in run
    this_data_output = func(*params)
  File "/fate/federatedml/linear_model/logistic_regression/base_logistic_regression.py", line 103, in load_model
    self.init_param_obj.fit_intercept = meta_obj.fit_intercept
AttributeError: 'NoneType' object has no attribute 'fit_intercept'
[INFO] [2020-10-29 08:26:24,776] [2811:139638674577216] - task_executor.py[line:160]: task 2020102908260459230210_homo_lr_0 guest 10000 start time: 2020-10-29 08:26:08
[INFO] [2020-10-29 08:26:24,776] [2811:139638674577216] - task_executor.py[line:161]: task 2020102908260459230210_homo_lr_0 guest 10000 end time: 2020-10-29 08:26:24
[INFO] [2020-10-29 08:26:24,776] [2811:139638674577216] - task_executor.py[line:162]: task 2020102908260459230210_homo_lr_0 guest 10000 takes 16.129s
[INFO] [2020-10-29 08:26:24,777] [2811:139638674577216] - task_executor.py[line:164]: finish 2020102908260459230210 homo_lr_0 2020102908260459230210_homo_lr_0 guest 10000 failed task
